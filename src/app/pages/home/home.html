<div class="home-container">
    <!-- Search Bar -->
    <div class="search-container">
        <form (submit)="handleSearch($event)" class="search-form">
            <input type="text" [(ngModel)]="place" name="place" 
                placeholder="Search destinations... e.g. Tokyo, Paris, Dubai"
                class="search-input" />
            <button type="submit" class="search-button">
                🔍 Search
            </button>
        </form>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-state">
        <p>⏳ Searching for "{{ place }}"...</p>
    </div>

    <!-- Results -->
    <div *ngIf="!loading && data">
        <!-- Destination Header -->
        <div class="destination-header">
            <span class="destination-icon">📍</span>
            <h2 class="destination-title">{{ data.place | uppercase }}</h2>
        </div>

        <!-- Attractions Section -->
        <div class="attractions-section">
            <h3 class="section-title">
                <span class="section-icon">🏛️</span>
                Top Attractions
            </h3>
            <ul *ngIf="data.attractions?.length > 0; else noAttractions" class="attractions-list">
                <li *ngFor="let a of data.attractions" class="attraction-item">
                    <span class="attraction-icon">📍</span>
                    <span class="attraction-name">{{ a.properties.name }}</span>
                </li>
            </ul>
            <ng-template #noAttractions>
                <p class="no-data">No attractions found.</p>
            </ng-template>
        </div>

        <!-- Photos Section -->
        <div class="photos-section">
            <h3 class="section-title">
                <span class="section-icon">📸</span>
                Photos
            </h3>
            <div *ngIf="data.images?.length > 0; else noImages" class="photos-grid">
                <div *ngFor="let img of data.images; trackBy: trackByImgId" class="photo-item">
                    <img [src]="img.src.medium || img.src.large" 
                         [alt]="img.alt"
                         loading="lazy"
                         (load)="imageLoaded()" />
                </div>
            </div>
            <ng-template #noImages>
                <p class="no-data">No photos found.</p>
            </ng-template>
        </div>
    </div>
</div>